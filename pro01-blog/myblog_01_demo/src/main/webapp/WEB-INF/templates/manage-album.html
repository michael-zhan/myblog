<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>相册</title>
    <script src="https://cdn.staticfile.org/modernizr/2.8.3/modernizr.min.js" type="text/javascript"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
    <link rel='stylesheet' href='https://cdn.staticfile.org/twitter-bootstrap/4.1.3/css/bootstrap.min.css'>
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">

    <link rel="stylesheet" th:href="@{/static/css/navbar.css}">
    <link rel="stylesheet" th:href="@{/static/css/manage-page.css}">

</head>

<body>

<div class="navigation-wrap bg-light start-header start-style">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <nav class="navbar navbar-expand-md navbar-light">
                    <a class="navbar-brand" href="javascript:void(0)" target="_blank">hyzzz_blog</a>&nbsp;
                    <a class="switch" id="switch"><i class="fa fa-moon-o" style="font-size: 24px"></i></a>&nbsp;
                    <a class="switch"><i class="fa fa-eye" style="font-size: 24px"></i></a>
                    <a class="switch"><i class="fa fa-eye-slash" style="font-size: 24px"></i></a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav ml-auto py-4 py-md-0">
                            <li class="nav-item pl-4 pl-md-0 ml-0 ml-md-4">
                                <a class="nav-link" th:href="@{/index}">主页</a>
                            </li>
                            <li class="nav-item pl-4 pl-md-0 ml-0 ml-md-4">
                                <a class="nav-link" th:href="@{/type}">分类</a>
                            </li>
                            <li class="nav-item pl-4 pl-md-0 ml-0 ml-md-4">
                                <a class="nav-link" th:href="@{/archive}">归档</a>
                            </li>
                            <li class="nav-item pl-4 pl-md-0 ml-0 ml-md-4">
                                <a class="nav-link" th:href="@{/friend/index}">好友</a>
                            </li>
                            <li class="nav-item pl-4 pl-md-0 ml-0 ml-md-4">
                                <a class="nav-link dropdown-toggle" href="javascript:void(0)" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">管理</a>
                                <div class="dropdown-menu">
                                    <a class="dropdown-item" th:href="@{/manage}">博客</a>
                                    <a class="dropdown-item" th:href="@{/message/index}">留言板</a>
                                    <a class="dropdown-item" th:href="@{/manage-album}">相册</a>
                                </div>
                            </li>
                            <li class="nav-item pl-4 pl-md-0 ml-0 ml-md-4">
                                <a class="nav-link" th:href="@{/article/toadd}">发布</a>
                            </li>
                            <li class="nav-item pl-4 pl-md-0 ml-0 ml-md-4">
                                <a class="nav-link dropdown-toggle" href="./personal.html" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">我的</a>
                                <div class="dropdown-menu">
                                    <a class="dropdown-item" th:href="@{/aboutme/info}">个人信息</a>
                                    <a class="dropdown-item" th:href="@{/aboutme/message}">留言板/相册</a>
                                    <a class="dropdown-item" th:href="@{/aboutme/logout}">注销</a>
                                </div>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</div>


    <div class="manage-box">
        <div class="table-responsive">
          <table class="table table-borderless">
              <thead>
                  <tr>
                      <th class="t_head">预览</th>
                      <th class="t_date">发布日期</th>
                      <th>图片地址</th>
                      <th>操作</th>
                  </tr>
              </thead>
              <tbody>
               <tr th:each="attachment :${pageInfo.list}">
                   <td class="t_title"><img th:src="${attachment.attachSmallPath}"></td>
<!--                   <td class="t_title" th:text="${attachment.attachName}">图片</td>-->
<!--                   <td th:text="${attachment.createTime}">创建时间</td>-->
<!--                   <td><img th:src="${attachment.attachSmallPath}"></td>-->
                   <td th:text="${#dates.format(attachment.createTime, 'MM-dd HH:mm')}" class="t_date">发布日期</td>
                   <td><a th:href="${attachment.attachPath}"/>图片下载</td>
                   <td>
                       <button type="button" class="btn btn-danger"><a  th:href="@{'/manage-album/delete/'+${attachment.id}}">删除</a> </button>
                     </td>
               </tr>
              </tbody>
          </table>
            <form th:action="@{/manage-album/upload}" method="post" enctype="multipart/form-data">
          <div class="col-xs-12 col-sm-6" style="margin-left: 5%;padding: 0px;">
            <div class="input-group input-file m-b" name="photo">
              <span class="input-group-btn">
                <button class="btn btn-secondary" type="button">+添加新照片</button>
              </span>
              <input type="text" class="form-control m-b" placeholder='Choose a file...' />
              <span class="input-group-btn">
                <button class="btn btn-warning btn-reset" type="button">重置</button>
              </span>
              <span class="input-group-btn">
                <button class="btn btn-success" type="submit">确认</button>
              </span>
            </div>
          </div>
            </form>

      </div>


<!--            <li class="page-item"><a class="page-link" href="#">上一页</a></li>-->
<!--            <li class="page-item active"><a class="page-link" href="#">1</a></li>-->
<!--            <li class="page-item"><a class="page-link" href="#">2</a></li>-->
<!--            <li class="page-item"><a class="page-link" href="#">3</a></li>-->
<!--            <li class="page-item"><a class="page-link" href="#">下一页</a></li>-->

            <div class="row">
                <div class="col-md-6 num_info" style="margin: 0 auto;text-align: center;">
                    当前第[[${pageInfo.pageNum}]]页，共[[${pageInfo.pages}]]页，共[[${pageInfo.total}]]条记录 </div>
            </div>
            <br>
            <!-- 分页导航条 -->
            <div class="switch-page1">
                <a th:href="@{/manage-album}"><span class="btn-page btn-default">首页</span></a>
                <a th:href="@{/manage-album/(pageNum=${pageInfo.hasPreviousPage}?${pageInfo.prePage}:1)}"><span
                        class="btn-page btn-default">上一页</span></a>
                <!-- 遍历导航页 -->
                <a th:each="page,pageStat:${pageInfo.navigatepageNums}"
                   th:href="@{/manage-album/(pageNum=${page})}">
                                        <span th:if="${page}==${pageInfo.pageNum}">
                                            <span class="btn-page btn-active" th:text="${page}"></span>
                                        </span>
                    <span th:if="${page}!=${pageInfo.pageNum}">
                                            <span class="btn-page btn-default" th:text="${page}"></span>
                                        </span>
                </a>
                <!-- 导航页 -->

                <a th:href="@{/manage-album/(pageNum=${pageInfo.hasNextPage}?${pageInfo.nextPage}:${pageInfo.pages})}"><span
                        class="btn-page btn-default">下一页</span></a>
                <a th:href="@{/manage-album/(pageNum=${pageInfo.pages})}"><span class="btn-page btn-default">尾页</span></a>
            </div>



    </div>


    <div class="modal fade" id="myModal">
        <div class="modal-dialog">
          <div class="modal-content">
       
            <!-- 模态框头部 -->
            <div class="modal-header">
              <h4 class="modal-title">图片预览</h4>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
       
            <!-- 模态框主体 -->
            <div class="modal-body">
              <img src="/img/img_1.jpg" alt="加载失败" style="width: 100%;height:100%">
            </div>
       
            <!-- 模态框底部 -->
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
            </div>
       
          </div>
        </div>
      </div>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
    <script src='https://cdn.staticfile.org/twitter-bootstrap/4.1.3/js/bootstrap.min.js'></script>
    <script th:src="@{/static/js/navbar.js}"></script>
    <script th:src="@{/static/js/write.js}"></script>

</body>

</html>